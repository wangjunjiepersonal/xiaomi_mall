<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="css/iconfont.css"/>
    <link rel="stylesheet" type="text/css" href="css/find.css"/>
    <script src="js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init()
		</script>
	</head>

	<body>
		<!--头部区域-->
		<header class="mui-bar mui-bar-nav">
		  <div>
	    	<input type="text" placeholder="搜索你想要的商品" />
	    </div>
	    <i class="mui-icon iconfont icon-xiaoxi"></i>
		</header>
		<!--内容区域-->
		<div class="mui-content mui-scroll-wrapper">
			<div class="mui-scroll">
				<!-- 顶部导航区域-->
				<div class="usernav">
					<a href="javascript:;">
						<i class="mui-icon iconfont icon-yuan"></i>
						<span>热销商品</span>
					</a>
					<a href="javascript:;">
						<i class="mui-icon"></i>
						<span>热销商品</span>
					</a>
					<a href="javascript:;">
						<i class="mui-icon"></i>
						<span>热销商品</span>
					</a>
					<a href="javascript:;">
						<i class="mui-icon"></i>
						<span>热销商品</span>
					</a>
					<a href="javascript:;">
						<i class="mui-icon"></i>
						<span>热销商品</span>
					</a>
				</div>
				<!--列表区域-->
				<section class="location">
					<ul class="mui-table-view">
				    <li class="mui-table-view-cell">
				        <a class="mui-navigate-right">
				        	<img src="img/find/location.png" alt="" />
				        	<div class="locat-name">
				        		<p>小米之家北京五彩城</p>
				        		<p>距离88千米</p>
				        	</div>
				        	<span>其他更多店</span>
				        </a>
				    </li>
					</ul>
				</section>
				<!--商城早报-->
				<div class="morning">
					<div class="title">商城早报</div>
					<div class="content">
						<p class="item"><a href="">新闻新闻新闻新闻新闻新闻1</a></p>
						<p class="item"><a href="">新闻新闻新闻新闻新闻新闻2</a></p>
						<p class="item"><a href="">新闻新闻新闻新闻新闻新闻3</a></p>
					</div>
				</div>
				<!--轮播块-->
				<section class="news">
					<div class="mui-scroll-wrapper mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
				    <div class="mui-scroll">
				        <a class="mui-control-item">
				            推荐
				        </a>
				        <a class="mui-control-item">
				            热点
				        </a>
				        <a class="mui-control-item">
				            北京
				        </a>
				        <a class="mui-control-item">
				            社会
				        </a>
	
				    </div>
					</div>
				</section>
				<!--卡片视图-->
				<div class="mui-card">
					<!--内容区-->
					<div class="mui-card-content">
						<img src="img/find/adv.jpg" alt="" />
					</div>
					<div class="info">
						<p>在很多不熟悉程序员的群体中</p>
						<p>可能都认为程序员是沉闷一词的代表，但其实不然，很多程序员都是非常幽默有趣且都有一颗非常闷骚的内心。</p>
					</div>
					<div class="mui-card-footer">
						<span>时间</span>
						<span>阅读</span>
					</div>
				</div>
				<!--推荐列表-->
					<section class="product">
						<ul class="mui-table-view" id="data">
					    <li class="mui-table-view-cell">
					    	<img src="img/find/find1.jpg" alt="" />
					    	<div class="info">
					    		<p>产品名称产品名称</p>
					    		<p>
					    			<span>发布时间</span>
					    			<span>888人阅读</span>
					    		</p>
					    	</div>
					    </li>
					    <li class="mui-table-view-cell">
					    	<img src="img/find/find1.jpg" alt="" />
					    	<div class="info">
					    		<p>产品名称产品名称</p>
					    		<p>
					    			<span>发布时间</span>
					    			<span>888人阅读</span>
					    		</p>
					    	</div>
					    </li>
					    <li class="mui-table-view-cell">
					    	<img src="img/find/find4.jpg" alt="" />
					    	<div class="info">
					    		<p>产品名称产品名称</p>
					    		<p>
					    			<span>发布时间</span>
					    			<span>888人阅读</span>
					    		</p>
					    	</div>
					    </li>
					    
						</ul>
					</section>
		</div>
	</div>	
		<!--底部区域-->
	<nav class="mui-bar mui-bar-tab">
	    <a class="mui-tab-item " href="index.html">
	        <span class="mui-icon iconfont icon-shouye"></span>
	        <span class="mui-tab-label">首页</span>
	    </a>
	    <a class="mui-tab-item" href="categroy.html">
	        <span class="mui-icon iconfont icon-iconfind"></span>
	        <span class="mui-tab-label">分类</span>
	    </a>
	    <a class="mui-tab-item mui-active" href="find.html">
	        <span class="mui-icon iconfont icon-faxian"></span>
	        <span class="mui-tab-label">发现</span>
	    </a>
	    <a class="mui-tab-item" href="order	.html">
	        <span class="mui-icon iconfont icon-gouwuche-copy"></span>
	        <span class="mui-tab-label">购物车</span>
	    </a>
	    <a class="mui-tab-item" href="setting.html">
	        <span class="mui-icon iconfont icon-wode"></span>
	        <span class="mui-tab-label">我的</span>
	    </a>
	</nav>
		
	<script src="js/xm.js"></script>	
	<script type="text/javascript">
		//滑动初始化
		mui('.mui-content').scroll({
			deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006
		});
		//上拉加载初始化
		mui.init({
		  pullRefresh : {
		    container:'.mui-content',//待刷新区域标识，querySelector能定位的css选择器均可，比如：id、.class等
		    up : {
		      height:50,//可选.默认50.触发上拉加载拖动距离
		      auto:true,//可选,默认false.自动上拉加载一次
		      contentrefresh : "正在加载...",//可选，正在加载状态时，上拉加载控件上显示的标题内容
		      contentnomore:'没有更多数据了',//可选，请求完毕若没有更多数据时显示的提醒内容；
		      callback :function(){
		      	var that = this;
			      	var lis = document.getElementById("data").querySelectorAll("li");
			      	setTimeout(function(){
			      		
			      		console.info("加载数据........");
			      		var rs = addData(); //
			      		console.info( rs );
			      		// 如果传入的参数是false;说明还有数据
			      		// 如果传入的参数是 true; 说明没有数据了
			      		that.endPullupToRefresh( !rs ); 
			      	},1000);
		      }
		    }
		  }
		});
		//模拟的数据
		function addData(){
				var flag = true; //可以正常加载3张。
				var data = document.getElementById("data");
				
				var len = data.querySelectorAll("li").length;
				//模拟一下，从后台取数据，然后，加入到data这个ul中。//假设每次取5条
				for(var i =1; i <= 5;i++){
				 
				 if( len+i == 17){ //本地最多只有16张 
				 	flag = false;
				 	break;
				 }
				 
				 var li = document.createElement("li"); 
				 li.className = "mui-table-view-cell";
				 
				 li.innerHTML = '<img src="img/find/find'+(len+i)+'.jpg" alt="" />'+
			    	'<div class="info">'+
			    		'<p>产品名称产品名称</p>'+
			    		'<p><span>发布时间</span> <span>888人阅读</span></p>'+
			    	'</div>';
			    	
			     data.appendChild( li );
			  }
			   return flag;
			}
	</script>
	</body>

</html>